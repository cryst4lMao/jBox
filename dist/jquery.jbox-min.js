function log(a){"undefined"!=typeof console?console.log(a):alert(a)}!function(a,b,c){function d(a){this.title=a.title,this.selector=a.selector,this.$content=a.$content||null,this.$curParent=null}function e(b,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(c),k=g.height(),l=g.width(),m=b.find(".jbox-title").outerHeight(),n=b.find(".jbox-container"),o=a.extend({},h,d);if("auto"==o.width?(e<o.minWidth&&(e=o.minWidth),e>900&&(e=900)):e=o.width,e>=l&&(e=l-50),"auto"==o.height?(f<o.minHeight&&(f=o.minHeight),f>=k&&(f=k-100)):f=o.height,f>=k&&(f=k-50),n.css("height",f-m-parseInt(n.css("paddingTop"))-parseInt(n.css("paddingBottom"))),b.css({position:"fixed",width:e,height:f,left:"50%",top:"50%",marginLeft:-parseInt(e/2),marginTop:-parseInt(f/2),zIndex:99999}),i&&6>=j){var p=parseInt(g.scrollTop());b.css({position:"absolute",top:k/2+p})}}function f(){a("#jbox-overlay").length<1&&a("body").append('<div id="jbox-overlay"></div>');var b=a("#jbox-overlay"),d=a(c),e=a("body").height(),f=d.height(),g=f>e?f:e;if(b.css({position:"fixed",zIndex:99998,top:"0px",left:"0px",width:"100%",height:g,background:"#000",opacity:.5}),i&&6>=j){var h=parseInt(d.scrollTop());b.css({position:"absolute",top:h})}b.show()}function g(){a("#jbox-overlay").fadeOut(200)}var h={title:"提示",width:"auto",height:"auto",minWidth:400,minHeight:200,content:"",onOpen:!1,onClosed:!1},i=a.browser.msie,j=parseInt(a.browser.version);d.prototype.create=function(b,c){var d=this.title,h=this.selector,i=null,j=null;this.$content=i=this.$content?this.$content:a(h);try{this.$curParent=j=i.parent()}catch(k){}var l=a('<div class="jbox"></div>'),m=a('<div class="jbox-title"></div>'),n=a('<div class="jbox-container"></div>');m.append('<div class="jbox-title-txt">'+d+"</div>",'<a href="javascript:;" class="jbox-close"></a>'),n.append(i),l.append(m,n),a("body").append(l),e(l,b),f(),l.find(".jbox-close").one("click",function(){try{i.appendTo(j)}catch(a){}return b.onClosed&&b.onClosed(),l.remove(),g(),!1}),l&&c&&c(l)},a.fn.jBox=function(b){return this.each(function(){var c=a(this),e=c.data("rule")||"normal",f=a.extend({},h,b);if("box"==e)c.click(function(){var a=new d({title:c.attr("title")||f.title,selector:c.attr("href")});return a.create(f,f.onOpen),!1});else{var g=new d({title:f.title,$content:c});g.create(f,f.onOpen)}})},publicmethod=a.jBox={},publicmethod.show=function(b){var c=a.extend({},h,b),e=new d({title:c.title,$content:c.content});e.create(c,c.onOpen)},publicmethod.reposition=function(){a(".jbox").each(function(){e(a(this))})},publicmethod.close=function(b){a(b).find(".jbox-close").triggerHandler("click")}}(jQuery,document,window);